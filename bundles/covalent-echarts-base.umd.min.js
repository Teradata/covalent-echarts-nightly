!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("echarts/lib/echarts"),require("@angular/common")):"function"==typeof define&&define.amd?define("@covalent/echarts/base",["exports","@angular/core","rxjs","rxjs/operators","echarts/lib/echarts","@angular/common"],e):e((t.covalent=t.covalent||{},t.covalent.echarts=t.covalent.echarts||{},t.covalent.echarts.base={}),t.ng.core,t.rxjs,t.rxjs.operators,t.echarts,t.ng.common)}(this,function(t,i,o,n,s,e){"use strict";var r=function(){function t(){this._options={},this._optionsSubject=new o.BehaviorSubject(this._options)}return t.prototype.setOption=function(t,e){var n={};n[t]=e,Object.assign(this._options,n),this._optionsSubject.next(this._options)},t.prototype.setArrayOption=function(t,e){var n=this.getOption(t);if(n){var i=n.indexOf(e);-1<i?n[i]=e:n.push(e)}else n=[e];this.setOption(t,n)},t.prototype.removeArrayOption=function(t,e){var n=this.getOption(t);if(n){var i=n.indexOf(e);-1<i?n[i]=null:n=[]}this.setOption(t,n)},t.prototype.getOption=function(t){return this._options[t]},t.prototype.clearOption=function(t){this.setOption(t,null)},t.prototype.listen=function(){return this._optionsSubject.asObservable()},t.decorators=[{type:i.Injectable}],t}();function a(t){return t||new r}var p={provide:r,deps:[[new i.Optional,new i.SkipSelf,r]],useFactory:a},c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function u(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function m(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function h(t){for(var e,n,i,o,s=[],r=1;r<arguments.length;r++)s[r-1]=arguments[r];try{for(var a=m(s),p=a.next();!p.done;p=a.next()){var c=p.value;try{for(var u=m(Object.keys(c)),h=u.next();!h.done;h=u.next()){var l=h.value,g=c[l];g!==undefined&&null!==g?t[l]=g:null===g&&delete t[l]}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=u["return"])&&o.call(u)}finally{if(i)throw i.error}}}}catch(f){e={error:f}}finally{try{p&&!p.done&&(n=a["return"])&&n.call(a)}finally{if(e)throw e.error}}return t}var l=function(){function t(t,e,n){this._changeDetectorRef=t,this._elementRef=e,this._optionsService=n,this._subs=[],this._widthSubject=new o.Subject,this._heightSubject=new o.Subject,this._state={},this._options={},this.config={},this.click=new i.EventEmitter,this.dblclick=new i.EventEmitter,this.contextmenu=new i.EventEmitter}return Object.defineProperty(t.prototype,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var e=this;this._instance=s.init(this._elementRef.nativeElement),this._subs.push(o.fromEvent(this._instance,"click").subscribe(function(t){e.click.next(t)})),this._subs.push(o.fromEvent(this._instance,"dblclick").subscribe(function(t){e.dblclick.next(t)})),this._subs.push(o.fromEvent(this._instance,"contextmenu").subscribe(function(t){e.contextmenu.next(t)})),this.group&&(this._instance.group=this.group,s.connect(this.group),this._changeDetectorRef.markForCheck()),this._subs.push(o.merge(o.fromEvent(window,"resize").pipe(n.debounceTime(100)),this._widthSubject.asObservable().pipe(n.debounceTime(100)),this._heightSubject.asObservable().pipe(n.debounceTime(100))).pipe(n.debounceTime(100)).subscribe(function(){e._instance.resize(),e._changeDetectorRef.markForCheck()})),this.render(),this._optionsService.listen().subscribe(function(t){h(e._options,t),e.render()})},t.prototype.ngDoCheck=function(){this._elementRef&&this._elementRef.nativeElement&&(this._widthSubject.next(this._elementRef.nativeElement.getBoundingClientRect().width),this._heightSubject.next(this._elementRef.nativeElement.getBoundingClientRect().height))},t.prototype.ngOnChanges=function(){this._instance&&(this._instance.clear(),this.render())},t.prototype.ngOnDestroy=function(){this._subs&&this._subs.forEach(function(t){t.unsubscribe()})},t.prototype.render=function(){this._instance&&(this._instance.setOption(h(this._state,{grid:{show:!0,left:"20",right:"20",bottom:"10",top:"10",containLabel:!0,borderColor:"#FCFCFC"},xAxis:[{}],yAxis:[{}],series:[]},this.config?this.config:{},this._options),!0),this._changeDetectorRef.markForCheck())},t.decorators=[{type:i.Component,args:[{selector:"td-chart",template:"",changeDetection:i.ChangeDetectionStrategy.OnPush,providers:[p],styles:[":host{display:block;width:100%}"]}]}],t.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:i.ElementRef},{type:r}]},t.propDecorators={config:[{type:i.Input,args:["config"]}],group:[{type:i.Input,args:["group"]}],click:[{type:i.Output,args:["click"]}],dblclick:[{type:i.Output,args:["dblclick"]}],contextmenu:[{type:i.Output,args:["contextmenu"]}]},t}(),g=function(){function t(t,e){this._axisOption=t,this._optionsService=e,this._state={axisLine:{lineStyle:{color:"#ABABAB"}},splitLine:{lineStyle:{color:"#ABABAB"}}},this.config={},this.show=!0}return t.prototype.ngOnInit=function(){this._setOptions()},t.prototype.ngOnChanges=function(){this._setOptions()},t.prototype.ngOnDestroy=function(){this._removeOption()},t.prototype._setOptions=function(){var t=h(this._state,this.config?this.config:{},{id:this.id,show:this.show,gridIndex:this.gridIndex,position:this.position,offset:this.offset,type:this.type,name:this.name,nameLocation:this.nameLocation,nameTextStyle:this.nameTextStyle,nameGap:this.nameGap,nameRotate:this.nameRotate,inverse:this.inverse,boundaryGap:this.boundaryGap,min:this.min,max:this.max,scale:this.scale,minInterval:this.minInterval,interval:this.interval,logBase:this.logBase,silent:this.silent,triggerEvent:this.triggerEvent,axisLine:this.axisLine,axisTick:this.axisTick,axisLabel:this.axisLabel,splitLine:this.splitLine,splitArea:this.splitArea,data:this.data,axisPointer:this.axisPointer,zlevel:this.zlevel,z:this.z});this._optionsService.setArrayOption(this._axisOption,t)},t.prototype._removeOption=function(){this._optionsService.clearOption(this._axisOption)},t.propDecorators={config:[{type:i.Input,args:["config"]}],id:[{type:i.Input,args:["id"]}],show:[{type:i.Input,args:["show"]}],gridIndex:[{type:i.Input,args:["gridIndex"]}],offset:[{type:i.Input,args:["offset"]}],type:[{type:i.Input,args:["type"]}],name:[{type:i.Input,args:["name"]}],nameLocation:[{type:i.Input,args:["nameLocation"]}],nameTextStyle:[{type:i.Input,args:["nameTextStyle"]}],nameGap:[{type:i.Input,args:["nameGap"]}],nameRotate:[{type:i.Input,args:["nameRotate"]}],inverse:[{type:i.Input,args:["inverse"]}],boundaryGap:[{type:i.Input,args:["boundaryGap"]}],min:[{type:i.Input,args:["min"]}],max:[{type:i.Input,args:["max"]}],scale:[{type:i.Input,args:["scale"]}],minInterval:[{type:i.Input,args:["minInterval"]}],interval:[{type:i.Input,args:["interval"]}],logBase:[{type:i.Input,args:["logBase"]}],silent:[{type:i.Input,args:["silent"]}],triggerEvent:[{type:i.Input,args:["triggerEvent"]}],axisLine:[{type:i.Input,args:["axisLine"]}],axisTick:[{type:i.Input,args:["axisTick"]}],axisLabel:[{type:i.Input,args:["axisLabel"]}],splitLine:[{type:i.Input,args:["splitLine"]}],splitArea:[{type:i.Input,args:["splitArea"]}],data:[{type:i.Input,args:["data"]}],axisPointer:[{type:i.Input,args:["axisPointer"]}],zlevel:[{type:i.Input,args:["zlevel"]}],z:[{type:i.Input,args:["z"]}]},t}(),y=function(e){function t(t){return e.call(this,"xAxis",t)||this}return u(t,e),t.decorators=[{type:i.Component,args:[{selector:"td-chart-x-axis",template:"",changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:r}]},t.propDecorators={position:[{type:i.Input,args:["position"]}]},t}(g),f=function(e){function t(t){return e.call(this,"yAxis",t)||this}return u(t,e),t.decorators=[{type:i.Component,args:[{selector:"td-chart-y-axis",template:"",changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:r}]},t.propDecorators={position:[{type:i.Input,args:["position"]}]},t}(g),d=[l,y,f],_=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[e.CommonModule],declarations:[d],exports:[d]}]}],t}(),v=function(){function t(t,e){this.optionsService=e,this._state={},this._options={},this.config={},this._type=t}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._setOptions()},t.prototype.ngOnChanges=function(){this._setOptions()},t.prototype.ngOnDestroy=function(){this._removeOption()},t.prototype.setStateOption=function(t,e){this._options[t]=e,this._setOptions()},t.prototype.removeStateOption=function(t){this._options[t]=null,this._setOptions()},t.prototype._setOptions=function(){var t=h(this._state,this.config?this.config:{},this.getConfig(),this._options);this.optionsService.setArrayOption("series",t)},t.prototype._removeOption=function(){var t=this.getConfig();this.optionsService.removeArrayOption("series",t)},t.propDecorators={config:[{type:i.Input,args:["config"]}],id:[{type:i.Input,args:["id"]}],name:[{type:i.Input,args:["name"]}],color:[{type:i.Input,args:["color"]}],animation:[{type:i.Input,args:["animation"]}],animationThreshold:[{type:i.Input,args:["animationThreshold"]}],animationDuration:[{type:i.Input,args:["animationDuration"]}],animationEasing:[{type:i.Input,args:["animationEasing"]}],animationDelay:[{type:i.Input,args:["animationDelay"]}],animationDurationUpdate:[{type:i.Input,args:["animationDurationUpdate"]}],animationEasingUpdate:[{type:i.Input,args:["animationEasingUpdate"]}],animationDelayUpdate:[{type:i.Input,args:["animationDelayUpdate"]}],tooltip:[{type:i.Input,args:["tooltip"]}]},t}();t.TdChartComponent=l,t.TdChartAxisComponent=g,t.TdChartYAxisComponent=f,t.TdChartXAxisComponent=y,t.TdChartOptionsService=r,t.CHART_PROVIDER=p,t.BASE_MODULE_COMPONENTS=d,t.CovalentBaseEchartsModule=_,t.assignDefined=h,t.TdSeriesComponent=v,t.ɵa=a,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=covalent-echarts-base.umd.min.js.map