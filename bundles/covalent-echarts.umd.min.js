!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("echarts/lib/echarts"),require("echarts/lib/chart/line"),require("echarts/lib/chart/bar"),require("echarts/lib/component/tooltip"),require("echarts/lib/component/title"),require("echarts/lib/component/legend"),require("echarts/lib/component/legendScroll"),require("echarts/lib/component/markArea"),require("echarts/lib/component/dataZoom")):"function"==typeof define&&define.amd?define("@covalent/echarts",["exports","@angular/core","rxjs","rxjs/operators","echarts/lib/echarts","echarts/lib/chart/line","echarts/lib/chart/bar","echarts/lib/component/tooltip","echarts/lib/component/title","echarts/lib/component/legend","echarts/lib/component/legendScroll","echarts/lib/component/markArea","echarts/lib/component/dataZoom"],e):e((t.covalent=t.covalent||{},t.covalent.echarts={}),t.ng.core,t.rxjs,t.Rx.Observable.prototype,t.echarts)}(this,function(t,r,s,i,o){"use strict";var e=function(){function t(t,e,i){this._changeDetectorRef=t,this._elementRef=e,this._ngZone=i,this._widthSubject=new s.Subject,this._heightSubject=new s.Subject,this._resizing=!1,this.showLegend=!0,this.showTooltip=!0,this.yAxisType="value",this.xAxisType="time",this.dataZoom=!0,this.showXAxis=!0,this.showYAxis=!0,this.markAreaClick=new r.EventEmitter}return Object.defineProperty(t.prototype,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var e=this;this._instance=o.init(this._elementRef.nativeElement),s.fromEvent(this._instance,"click").subscribe(function(t){"markArea"===t.componentType&&e.markAreaClick.next(t)}),this.chartGroup&&(this._instance.group=this.chartGroup,o.connect(this.chartGroup),this._changeDetectorRef.markForCheck()),this._resizeSubscription=s.merge(s.fromEvent(window,"resize").pipe(i.debounceTime(10)),this._widthSubject.asObservable().pipe(i.distinctUntilChanged()),this._heightSubject.asObservable().pipe(i.distinctUntilChanged())).subscribe(function(){e._resizing||(e._resizing=!0,setTimeout(function(){e._instance.resize(),e._resizing=!1,e._changeDetectorRef.markForCheck()},100))}),this.render()},t.prototype.ngDoCheck=function(){this._elementRef&&this._elementRef.nativeElement&&(this._widthSubject.next(this._elementRef.nativeElement.getBoundingClientRect().width),this._heightSubject.next(this._elementRef.nativeElement.getBoundingClientRect().height))},t.prototype.ngOnChanges=function(){this._instance&&(this._instance.clear(),this.render())},t.prototype.ngOnDestroy=function(){this._resizeSubscription&&this._resizeSubscription.unsubscribe()},t.prototype.render=function(){this.chartTitle&&this.chartTitle,this.data&&this.data instanceof Array&&(this._series=this.data.map(function(t){return{name:t.name,id:t.id,type:t.type?t.type:"line",stack:t.stack,data:t.data,color:t.color,connectNulls:!1,barWidth:t.barWidth,barGap:t.barGap,z:t.z,lineStyle:{opacity:t.opacity,width:t.width,shadowBlur:t.shadowBlur,shadowColor:t.shadowColor,shadowOffsetX:t.shadowOffsetX,shadowOffsetY:t.shadowOffsetY},itemStyle:{opacity:t.opacity},showSymbol:!1,areaStyle:t.area?{opacity:t.opacity}:undefined,markArea:{data:t.markArea,itemStyle:{borderColor:"#464646",borderWidth:1,opacity:t.markAreaOpacity?t.markAreaOpacity:.1}}}})),this._legend={show:this.showLegend,type:"scroll",selectedMode:"multiple",orient:"horizontal",right:"5",bottom:"5",data:this.data&&this.data instanceof Array?this.data.map(function(t){return t.name}):[]},this._instance.setOption({grid:{show:!0,left:"20",right:"20",bottom:this.showLegend?"30":"10",top:"10",containLabel:!0,borderColor:"#FCFCFC"},dataZoom:this.dataZoom?[{type:"inside",throttle:50,zoomOnMouseWheel:"shift"}]:undefined,legend:this._legend,tooltip:{show:this.showTooltip,trigger:"axis",formatter:this.tooltipFormatter,axisPointer:{type:"line",label:{backgroundColor:"#6A7985"}}},xAxis:[{show:this.showXAxis,position:"bottom",type:this.xAxisType,boundaryGap:!1,axisLabel:{formatter:this.xAxisFormatter,inside:!this.showXAxis},axisLine:{show:!1,lineStyle:{color:"#777777"}},data:this.xAxis,splitLine:{show:!1,lineStyle:{color:"#ECECEC"}}}],yAxis:[{show:this.showYAxis,max:this.max,type:this.yAxisType,axisLabel:{inside:!0,showMinLabel:!1,formatter:this.yAxisFormatter},splitNumber:this.yAxisSplitNumber,axisLine:{show:!1,lineStyle:{color:"#777777"}},data:this.yAxis,splitLine:{lineStyle:{color:"#ECECEC"}}}],series:this._series}),this._changeDetectorRef.markForCheck()},t}();e.decorators=[{type:r.Component,args:[{selector:"td-chart",template:"",styles:[":host{display:block}"],changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:r.ElementRef},{type:r.NgZone}]},e.propDecorators={chartTitle:[{type:r.Input,args:["chartTitle"]}],showLegend:[{type:r.Input,args:["showLegend"]}],showTooltip:[{type:r.Input,args:["showTooltip"]}],data:[{type:r.Input,args:["data"]}],max:[{type:r.Input,args:["max"]}],chartGroup:[{type:r.Input,args:["chartGroup"]}],yAxisFormatter:[{type:r.Input,args:["yAxisFormatter"]}],xAxisFormatter:[{type:r.Input,args:["xAxisFormatter"]}],yAxisType:[{type:r.Input,args:["yAxisType"]}],xAxisType:[{type:r.Input,args:["xAxisType"]}],dataZoom:[{type:r.Input,args:["dataZoom"]}],tooltipFormatter:[{type:r.Input,args:["tooltipFormatter"]}],xAxis:[{type:r.Input,args:["xAxis"]}],yAxis:[{type:r.Input,args:["yAxis"]}],showXAxis:[{type:r.Input,args:["showXAxis"]}],showYAxis:[{type:r.Input,args:["showYAxis"]}],yAxisSplitNumber:[{type:r.Input,args:["yAxisSplitNumber"]}],markAreaClick:[{type:r.Output,args:["markAreaClick"]}]};var a=function n(){};a.decorators=[{type:r.NgModule,args:[{declarations:[e],exports:[e]}]}],a.ctorParameters=function(){return[]},t.TdChartComponent=e,t.CovalentBaseEchartsModule=a,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=covalent-echarts.umd.min.js.map
