{"version":3,"file":"covalent-echarts-tooltip.umd.js.map","sources":["ng://@covalent/echarts/tooltip/tooltip.component.ts","ng://@covalent/echarts/tooltip/series-tooltip.component.ts","ng://@covalent/echarts/tooltip/tooltip.module.ts","ng://@covalent/echarts/tooltip/covalent-echarts-tooltip.ts"],"sourcesContent":["import {\n  Component,\n  Input,\n  Directive,\n  TemplateRef,\n  ChangeDetectionStrategy,\n  ElementRef,\n  ChangeDetectorRef,\n  OnChanges,\n  ContentChild,\n  ViewChild,\n  OnDestroy,\n} from '@angular/core';\n\nimport {\n  TdChartOptionsService,\n  assignDefined,\n  TdTooltipTrigger,\n  TdTooltipTriggerOn,\n  TdTooltipPosition,\n} from '@covalent/echarts/base';\n\nexport class TdTooltipContext {\n  $implicit: any;\n  ticket: string;\n}\n\n@Directive({\n  selector: 'ng-template[tdTooltipFormatter]',\n})\nexport class TdChartTooltipFormatterDirective {\n}\n\n@Component({\n  selector: 'td-chart-tooltip',\n  templateUrl: './tooltip.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TdChartTooltipComponent implements OnChanges, OnDestroy {\n\n  private _state: any = {};\n\n  _context: TdTooltipContext = new TdTooltipContext();\n\n  @Input('config') config: any = {};\n\n  @Input('show') show: boolean = true;\n  @Input('trigger') trigger: TdTooltipTrigger =  'axis';\n  @Input('axisPointer') axisPointer: any;\n  @Input('showContent') showContent: boolean = true;\n  @Input('alwaysShowContent') alwaysShowContent: boolean = false;\n  @Input('triggerOn') triggerOn: TdTooltipTriggerOn = 'mousemove|click';\n  @Input('showDelay') showDelay: number = 0;\n  @Input('hideDelay') hideDelay: number = 0;\n  @Input('enterable') enterable: boolean = false;\n  @Input('renderMode') renderMode: 'html' | 'richText';\n  @Input('confine') confine: boolean = false;\n  @Input('transitionDuration') transitionDuration: number = 0.5;\n  @Input('position') position: TdTooltipPosition; // series\n  @Input('formatter') formatter: string | Function; // series\n  @Input('backgroundColor') backgroundColor: string = 'rgba(50,50,50,0.7)'; // series\n  @Input('borderColor') borderColor: string = '#333'; // series\n  @Input('borderWidth') borderWidth: number = 0; // series\n  @Input('padding') padding: number = 5; // series\n  @Input('textStyle') textStyle: any = { // series\n    color: '#FFF',\n  };\n  @Input('extraCssText') extraCssText: string; // series\n\n  @ContentChild(TdChartTooltipFormatterDirective, {read: TemplateRef}) formatterTemplate: TemplateRef<any>;\n  @ViewChild('tooltipContent') fullTemplate: TemplateRef<any>;\n\n  constructor(private _changeDetectorRef: ChangeDetectorRef,\n              private _elementRef: ElementRef,\n              private _optionsService: TdChartOptionsService) {\n  }\n\n  ngOnChanges(): void {\n    this._setOptions();\n  }\n\n  ngOnDestroy(): void {\n    this._removeOption();\n  }\n\n  private _setOptions(): void {\n    let config: any = assignDefined(this._state, this.config ? this.config : {}, {\n      show: this.show,\n      trigger: this.trigger,\n      axisPointer: this.axisPointer,\n      showContent: this.showContent,\n      alwaysShowContent: this.alwaysShowContent,\n      triggerOn: this.triggerOn,\n      showDelay: this.showDelay,\n      hideDelay: this.hideDelay,\n      enterable: this.enterable,\n      confine: this.confine,\n      transitionDuration: this.transitionDuration,\n      position: this.position,\n      formatter: this.formatter ? this.formatter : (this.formatterTemplate ? this._formatter() : undefined),\n      backgroundColor: this.backgroundColor,\n      borderColor: this.borderColor,\n      borderWidth: this.borderWidth,\n      padding: this.padding,\n      textStyle: this.textStyle,\n      extraCssText: this.extraCssText,\n    });\n    // set tooltip configuration in parent chart and render new configurations\n    this._optionsService.setOption('tooltip', config);\n  }\n\n  private _removeOption(): void {\n    this._optionsService.clearOption('tooltip');\n  }\n\n  private _formatter(): Function {\n    return (params: any, ticket: any, callback: (ticket: string, html: string) => void) => {\n      this._context = {\n        $implicit: params,\n        ticket: ticket,\n      };\n      // timeout set since we need to set the HTML at the end of the angular lifecycle when\n      // the tooltip delay is more than 0\n      setTimeout(() => {\n        callback(ticket, (<HTMLElement>this._elementRef.nativeElement).innerHTML);\n      });\n      this._changeDetectorRef.markForCheck();\n      return (<HTMLElement>this._elementRef.nativeElement).innerHTML;\n    };\n  }\n\n}\n","import { \n  Component,\n  Input,\n  ContentChild,\n  ViewChild,\n  TemplateRef,\n  ChangeDetectorRef,\n  ElementRef,\n  ChangeDetectionStrategy,\n  OnChanges,\n  OnDestroy,\n} from '@angular/core';\n\nimport { assignDefined, TdSeriesComponent } from '@covalent/echarts/base';\n\nimport { TdChartTooltipFormatterDirective, TdTooltipContext } from './tooltip.component';\n\n@Component({\n  selector: 'td-chart-series-tooltip',\n  templateUrl: './tooltip.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TdSeriesTooltipComponent implements OnChanges, OnDestroy {\n\n  private _state: any = {};\n\n  _context: TdTooltipContext = new TdTooltipContext();\n\n  @Input('config') config: any;\n\n  @Input('formatter') formatter: any;\n  // Parent tooltip trigger must be set to 'item' to render these properties\n  @Input('position') position: string | string[] | number[];\n  @Input('backgroundColor') backgroundColor: string = 'rgba(50,50,50,0.7)';\n  @Input('borderColor') borderColor: string = '#333';\n  @Input('borderWidth') borderWidth: number = 0;\n  @Input('padding') padding: number = 5;\n  @Input('textStyle') textStyle: any = {\n    color: '#FFF',\n  };\n  @Input('extraCssText') extraCssText: string;\n\n  @ContentChild(TdChartTooltipFormatterDirective, {read: TemplateRef}) formatterTemplate: TemplateRef<any>;\n  @ViewChild('tooltipContent') fullTemplate: TemplateRef<any>;\n\n  constructor(private _changeDetectorRef: ChangeDetectorRef,\n              private _elementRef: ElementRef,\n              private _seriesComponent: TdSeriesComponent) {\n  }\n\n  ngOnChanges(): void {\n    this._setOptions();\n  }\n\n  ngOnDestroy(): void {\n    this._removeOption();\n  }\n\n  private _setOptions(): void {\n    let config: any = assignDefined(this._state, this.config ? this.config : {}, {\n      position: this.position,\n      backgroundColor: this.backgroundColor,\n      borderColor: this.borderColor,\n      borderWidth: this.borderWidth,\n      padding: this.padding,\n      textStyle: this.textStyle,\n      extraCssText: this.extraCssText,\n      formatter: this.formatter ? this.formatter : (this.formatterTemplate ? this._formatter() : undefined),\n    });\n    // set series tooltip configuration in parent chart and render new configurations\n    this._seriesComponent.setStateOption('tooltip', config);\n  }\n  \n  /**\n   * Formatter for tooltip\n   *\n   */\n  private _formatter(): Function {\n    return (params: any, ticket: any, callback: (ticket: string, html: string) => void) => {\n      this._context = {\n        $implicit: params,\n        ticket: ticket,\n      };\n      // timeout set since we need to set the HTML at the end of the angular lifecycle when\n      // the tooltip delay is more than 0\n      setTimeout(() => {\n        callback(ticket, (<HTMLElement>this._elementRef.nativeElement).innerHTML);\n      });\n      this._changeDetectorRef.markForCheck();\n      return (<HTMLElement>this._elementRef.nativeElement).innerHTML;\n    };\n  }\n\n  private _removeOption(): void {\n    this._seriesComponent.removeStateOption('tooltip');\n  }\n\n}\n","import { NgModule, Type } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport 'echarts/lib/component/tooltip';\n\nimport { TdChartTooltipComponent, TdChartTooltipFormatterDirective } from './tooltip.component';\nimport { TdSeriesTooltipComponent } from './series-tooltip.component';\n\nexport const TOOLTIP_MODULE_COMPONENTS: Type<any>[] = [\n  TdChartTooltipComponent,\n  TdChartTooltipFormatterDirective,\n  TdSeriesTooltipComponent,\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  declarations: [\n    TOOLTIP_MODULE_COMPONENTS,\n  ],\n  exports: [\n    TOOLTIP_MODULE_COMPONENTS,\n  ],\n})\nexport class CovalentTooltipEchartsModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["Directive","assignDefined","Component","ChangeDetectionStrategy","ChangeDetectorRef","ElementRef","TdChartOptionsService","Input","ContentChild","TemplateRef","ViewChild","TdSeriesComponent","NgModule","CommonModule"],"mappings":"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"}
