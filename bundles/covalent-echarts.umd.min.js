!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("echarts/lib/echarts"),require("echarts/lib/component/title"),require("echarts/lib/component/legend"),require("echarts/lib/component/legendScroll"),require("echarts/lib/component/markArea"),require("echarts/lib/component/dataZoom"),require("@angular/common"),require("echarts/lib/chart/bar"),require("@covalent/echarts/base"),require("echarts/lib/chart/line")):"function"==typeof define&&define.amd?define("@covalent/echarts",["exports","@angular/core","rxjs","rxjs/operators","echarts/lib/echarts","echarts/lib/component/title","echarts/lib/component/legend","echarts/lib/component/legendScroll","echarts/lib/component/markArea","echarts/lib/component/dataZoom","@angular/common","echarts/lib/chart/bar","@covalent/echarts/base","echarts/lib/chart/line"],e):e((t.covalent=t.covalent||{},t.covalent.echarts={}),t.ng.core,t.rxjs,t.Rx.Observable.prototype,t.echarts,null,null,null,null,null,t.ng.common,null,t.covalent.echarts.base)}(this,function(t,o,r,n,i,e,s,a,c,h,p,l,u){"use strict";var d=function(){function t(){this._options={},this._optionsSubject=new r.BehaviorSubject(this._options)}return t.prototype.setOption=function(t,e){var n={};n[t]=e,Object.assign(this._options,n),this._optionsSubject.next(n)},t.prototype.clearOption=function(t){this.setOption(t,undefined)},t.prototype.listen=function(){return this._optionsSubject.asObservable()},t}();function g(t){return t||new d}d.decorators=[{type:o.Injectable}],d.ctorParameters=function(){return[]};var y={provide:d,deps:[[new o.Optional,new o.SkipSelf,d]],useFactory:g},m=function(){function t(t,e,n){this._changeDetectorRef=t,this._elementRef=e,this._optionsService=n,this._widthSubject=new r.Subject,this._heightSubject=new r.Subject,this._resizing=!1,this._options={},this.showLegend=!0,this.yAxisType="value",this.xAxisType="time",this.dataZoom=!0,this.showXAxis=!0,this.showYAxis=!0,this.markAreaClick=new o.EventEmitter}return Object.defineProperty(t.prototype,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var e=this;this._instance=i.init(this._elementRef.nativeElement),r.fromEvent(this._instance,"click").subscribe(function(t){"markArea"===t.componentType&&e.markAreaClick.next(t)}),this.chartGroup&&(this._instance.group=this.chartGroup,i.connect(this.chartGroup),this._changeDetectorRef.markForCheck()),this._resizeSubscription=r.merge(r.fromEvent(window,"resize").pipe(n.debounceTime(10)),this._widthSubject.asObservable().pipe(n.debounceTime(0),n.distinctUntilChanged()),this._heightSubject.asObservable().pipe(n.debounceTime(0),n.distinctUntilChanged())).subscribe(function(){e._resizing||(e._resizing=!0,setTimeout(function(){e._instance.resize(),e._resizing=!1,e._changeDetectorRef.markForCheck()},100))}),this.render(),this._optionsService.listen().subscribe(function(t){Object.assign(e._options,t),e.render()})},t.prototype.ngDoCheck=function(){this._elementRef&&this._elementRef.nativeElement&&(this._widthSubject.next(this._elementRef.nativeElement.getBoundingClientRect().width),this._heightSubject.next(this._elementRef.nativeElement.getBoundingClientRect().height))},t.prototype.ngOnChanges=function(){this._instance&&(this._instance.clear(),this.render())},t.prototype.ngOnDestroy=function(){this._resizeSubscription&&this._resizeSubscription.unsubscribe()},t.prototype.render=function(){if(this._instance){this.chartTitle&&this.chartTitle,this.data&&this.data instanceof Array&&(this._series=this.data.map(function(t){return{name:t.name,id:t.id,type:t.type?t.type:"line",stack:t.stack,data:t.data,color:t.color,connectNulls:!1,barWidth:t.barWidth,barGap:t.barGap,z:t.z,lineStyle:{opacity:t.opacity,width:t.width,shadowBlur:t.shadowBlur,shadowColor:t.shadowColor,shadowOffsetX:t.shadowOffsetX,shadowOffsetY:t.shadowOffsetY},itemStyle:{opacity:t.opacity},showSymbol:!1,areaStyle:t.area?{opacity:t.opacity}:undefined,markArea:{data:t.markArea,itemStyle:{borderColor:"#464646",borderWidth:1,opacity:t.markAreaOpacity?t.markAreaOpacity:.1}}}})),this._legend={show:this.showLegend,type:"scroll",selectedMode:"multiple",orient:"horizontal",right:"5",bottom:"5",data:this.data&&this.data instanceof Array?this.data.map(function(t){return t.name}):[]},this._instance.setOption(Object.assign({},{grid:{show:!0,left:"20",right:"20",bottom:this.showLegend?"30":"10",top:"10",containLabel:!0,borderColor:"#FCFCFC"},dataZoom:this.dataZoom?[{type:"inside",throttle:50,zoomOnMouseWheel:"shift"}]:undefined,legend:this._legend,xAxis:[{show:this.showXAxis,position:"bottom",type:this.xAxisType,boundaryGap:!1,axisLabel:{formatter:this.xAxisFormatter,inside:!this.showXAxis},axisLine:{show:!1,lineStyle:{color:"#777777"}},data:this.xAxis,splitLine:{show:!1,lineStyle:{color:"#ECECEC"}}}],yAxis:[{show:this.showYAxis,max:this.max,type:this.yAxisType,axisLabel:{inside:!0,showMinLabel:!1,formatter:this.yAxisFormatter},splitNumber:this.yAxisSplitNumber,axisLine:{show:!1,lineStyle:{color:"#777777"}},data:this.yAxis,splitLine:{lineStyle:{color:"#ECECEC"}}}],series:this._series},this._options),!0),this._changeDetectorRef.markForCheck()}},t}();m.decorators=[{type:o.Component,args:[{selector:"td-base-chart",template:"",styles:[":host{display:block}"],changeDetection:o.ChangeDetectionStrategy.OnPush,providers:[y]}]}],m.ctorParameters=function(){return[{type:o.ChangeDetectorRef},{type:o.ElementRef},{type:d}]},m.propDecorators={chartTitle:[{type:o.Input,args:["chartTitle"]}],showLegend:[{type:o.Input,args:["showLegend"]}],data:[{type:o.Input,args:["data"]}],max:[{type:o.Input,args:["max"]}],chartGroup:[{type:o.Input,args:["chartGroup"]}],yAxisFormatter:[{type:o.Input,args:["yAxisFormatter"]}],xAxisFormatter:[{type:o.Input,args:["xAxisFormatter"]}],yAxisType:[{type:o.Input,args:["yAxisType"]}],xAxisType:[{type:o.Input,args:["xAxisType"]}],dataZoom:[{type:o.Input,args:["dataZoom"]}],xAxis:[{type:o.Input,args:["xAxis"]}],yAxis:[{type:o.Input,args:["yAxis"]}],showXAxis:[{type:o.Input,args:["showXAxis"]}],showYAxis:[{type:o.Input,args:["showYAxis"]}],yAxisSplitNumber:[{type:o.Input,args:["yAxisSplitNumber"]}],markAreaClick:[{type:o.Output,args:["markAreaClick"]}]};var b=function I(){},f=function T(){};f.decorators=[{type:o.Directive,args:[{selector:"ng-template[tdTooltipFormatter]"}]}],f.ctorParameters=function(){return[]};var x=function(){function t(t,e,n){this._changeDetectorRef=t,this._elementRef=e,this._optionsService=n,this._context=new b,this.config={},this.show=!0,this.trigger="axis",this.showContent=!0,this.alwaysShowContent=!1,this.triggerOn="mousemove|click",this.showDelay=0,this.hideDelay=0,this.enterable=!1,this.confine=!1,this.transitionDuration=.5,this.backgroundColor="rgba(50,50,50,0.7)",this.borderColor="#333",this.borderWidth=0,this.padding=5,this.textStyle={color:"#FFF"}}return t.prototype.ngOnInit=function(){this._setOptions()},t.prototype.ngOnChanges=function(){this._setOptions()},t.prototype.ngOnDestroy=function(){this._removeOption()},t.prototype._setOptions=function(){var o=this,t=Object.assign({},this.config?this.config:{},{show:this.show,trigger:this.trigger,axisPointer:this.axisPointer,showContent:this.showContent,alwaysShowContent:this.alwaysShowContent,triggerOn:this.triggerOn,showDelay:this.showDelay,hideDelay:this.hideDelay,enterable:this.enterable,confine:this.confine,transitionDuration:this.transitionDuration,position:this.position,formatter:function(t,e,n){return o._context={$implicit:t,ticket:e},setTimeout(function(){n(e,o._elementRef.nativeElement.innerHTML)}),o._changeDetectorRef.markForCheck(),o._elementRef.nativeElement.innerHTML},backgroundColor:this.backgroundColor,borderColor:this.borderColor,borderWidth:this.borderWidth,padding:this.padding,textStyle:this.textStyle,extraCssText:this.extraCssText});this._optionsService.setOption("tooltip",t)},t.prototype._removeOption=function(){this._optionsService.clearOption("tooltip")},t}();x.decorators=[{type:o.Component,args:[{selector:"td-chart-tooltip",template:'<ng-template #tooltipContent\n            [ngTemplateOutlet]="formatterTemplate"\n            [ngTemplateOutletContext]="_context">\n</ng-template>',styles:[""],changeDetection:o.ChangeDetectionStrategy.OnPush}]}],x.ctorParameters=function(){return[{type:o.ChangeDetectorRef},{type:o.ElementRef},{type:d}]},x.propDecorators={config:[{type:o.Input,args:["config"]}],show:[{type:o.Input,args:["show"]}],trigger:[{type:o.Input,args:["trigger"]}],axisPointer:[{type:o.Input,args:["axisPointer"]}],showContent:[{type:o.Input,args:["showContent"]}],alwaysShowContent:[{type:o.Input,args:["alwaysShowContent"]}],triggerOn:[{type:o.Input,args:["triggerOn"]}],showDelay:[{type:o.Input,args:["showDelay"]}],hideDelay:[{type:o.Input,args:["hideDelay"]}],enterable:[{type:o.Input,args:["enterable"]}],confine:[{type:o.Input,args:["confine"]}],transitionDuration:[{type:o.Input,args:["transitionDuration"]}],position:[{type:o.Input,args:["position"]}],backgroundColor:[{type:o.Input,args:["backgroundColor"]}],borderColor:[{type:o.Input,args:["borderColor"]}],borderWidth:[{type:o.Input,args:["borderWidth"]}],padding:[{type:o.Input,args:["padding"]}],textStyle:[{type:o.Input,args:["textStyle"]}],extraCssText:[{type:o.Input,args:["extraCssText"]}],formatterTemplate:[{type:o.ContentChild,args:[f,{read:o.TemplateRef}]}],fullTemplate:[{type:o.ViewChild,args:["tooltipContent"]}]};var C=[m,x,f],_=function k(){};_.decorators=[{type:o.NgModule,args:[{imports:[p.CommonModule],declarations:[C],exports:[C]}]}],_.ctorParameters=function(){return[]};var w=function E(){};w.decorators=[{type:o.Component,args:[{selector:"td-chart-bar",template:'<td-base-chart [style.height.%]="100"\n                [data]="data"\n                [yAxisType]="\'value\'"\n                [xAxisType]="\'category\'"\n                [dataZoom]="false"\n                [dataZoom]="false">\n  <ng-content></ng-content>\n</td-base-chart>',styles:[":host{display:block}"],changeDetection:o.ChangeDetectionStrategy.OnPush,providers:[u.BASE_CHART_PROVIDER]}]}],w.ctorParameters=function(){return[]},w.propDecorators={data:[{type:o.Input,args:["data"]}]};var O=[w],A=function R(){};A.decorators=[{type:o.NgModule,args:[{imports:[p.CommonModule,u.CovalentBaseEchartsModule],declarations:[O],exports:[O]}]}],A.ctorParameters=function(){return[]};var S=function j(){};S.decorators=[{type:o.Component,args:[{selector:"td-chart-line",template:'<td-base-chart [style.height.%]="100"\n                [data]="data">\n  <ng-content></ng-content>\n</td-base-chart>',styles:[":host{display:block}"],changeDetection:o.ChangeDetectionStrategy.OnPush,providers:[u.BASE_CHART_PROVIDER]}]}],S.ctorParameters=function(){return[]},S.propDecorators={data:[{type:o.Input,args:["data"]}]};var v=[S],D=function P(){};D.decorators=[{type:o.NgModule,args:[{imports:[p.CommonModule,u.CovalentBaseEchartsModule],declarations:[v],exports:[v]}]}],D.ctorParameters=function(){return[]},t.TdBaseChartComponent=m,t.TdChartOptionsService=d,t.BASE_CHART_PROVIDER=y,t.BASE_MODULE_COMPONENTS=C,t.CovalentBaseEchartsModule=_,t.TdBarChartComponent=w,t.BAR_MODULE_COMPONENTS=O,t.CovalentBarEchartsModule=A,t.TdLineChartComponent=S,t.LINE_MODULE_COMPONENTS=v,t.CovalentLineEchartsModule=D,t.ɵa=g,t.ɵc=x,t.ɵb=f,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=covalent-echarts.umd.min.js.map
